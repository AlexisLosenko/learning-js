<!DOCTYPE html>
<html lang="fr">
<head>
    <title>TEST</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="assets/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <script src="http://d3js.org/d3.v4.min.js"></script>
    <script src="http://dimplejs.org/dist/dimple.v2.3.0.min.js"></script>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <style>
        #bar-chart{
            margin: 25px;
        }
    </style>
</head>
<body>
<div id="bar-chart"></div>
<table cellspacing="0" cellpadding="0" id="table2">
                <caption>Population carcérale, moyenne par an, 2007–09 et 2010–12
                  <br> (pour 100 000 habitants)</caption>
                <thead>
                  <tr>
                    <th>N°</th>
                    <th>Pays</th>
                    <th>2007&ndash;09</th>
                    <th>2010&ndash;12</th>
                  </tr>
                </thead>
                <tbody>

                  <tr>
                    <th>
                      <div>4</div>
                    </th>
                    <td>Lettonie</td>
                    <td>312</td>
                    <td>312</td>
                  </tr>
                  <tr>
                    <th>
                      <div>5</div>
                    </th>
                    <td>Lituanie</td>
                    <td>247</td>
                    <td>307</td>
                  </tr>
                  <tr>
                    <th>
                      <div>6</div>
                    </th>
                    <td>Estonie</td>
                    <td>266</td>
                    <td>253</td>
                  </tr>
                  <tr>
                    <th>
                      <div>7</div>
                    </th>
                    <td>R&eacute;p.tch&egrave;que</td>
                    <td>198</td>
                    <td>217</td>
                  </tr>
                  <tr>
                    <th>
                      <div>8</div>
                    </th>
                    <td>Pologne</td>
                    <td>228</td>
                    <td>214</td>
                  </tr>
                  <tr>
                    <th>
                      <div>9</div>
                    </th>
                    <td>Slovaquie</td>
                    <td>159</td>
                    <td>197</td>
                  </tr>
                  <tr>
                    <th>
                      <div>10</div>
                    </th>
                    <td>Hongrie</td>
                    <td>148</td>
                    <td>169</td>
                  </tr>
                  <tr>
                    <th>
                      <div>11</div>
                    </th>
                    <td>Angleterre et paysdeGalles(UK)</td>
                    <td>151</td>
                    <td>154</td>
                  </tr>
                  <tr>
                    <th>
                      <div>12</div>
                    </th>
                    <td>Ecosse(UK)(&sup1;)</td>
                    <td>150</td>
                    <td>154</td>
                  </tr>
                  <tr>
                    <th>
                      <div>13</div>
                    </th>
                    <td>Espagne</td>
                    <td>158</td>
                    <td>152</td>
                  </tr>
                  <tr>
                    <th>
                      <div>14</div>
                    </th>
                    <td>Roumanie</td>
                    <td>132</td>
                    <td>150</td>
                  </tr>
                  <tr>
                    <th>
                      <div>15</div>
                    </th>
                    <td>Malte</td>
                    <td>126</td>
                    <td>143</td>
                  </tr>
                  <tr>
                    <th>
                      <div>16</div>
                    </th>
                    <td>Bulgarie</td>
                    <td>132</td>
                    <td>132</td>
                  </tr>
                  <tr>
                    <th>
                      <div>17</div>
                    </th>
                    <td>Luxembourg</td>
                    <td>139</td>
                    <td>126</td>
                  </tr>
                  <tr>
                    <th>
                      <div>18</div>
                    </th>
                    <td>Portugal</td>
                    <td>106</td>
                    <td>120</td>
                  </tr>
                  <tr>
                    <th>
                      <div>19</div>
                    </th>
                    <td>Croatie</td>
                    <td>108</td>
                    <td>116</td>
                  </tr>
                  <tr>
                    <th>
                      <div>20</div>
                    </th>
                    <td>Italie</td>
                    <td>98</td>
                    <td>113</td>
                  </tr>
                  <tr>
                    <th>
                      <div>21</div>
                    </th>
                    <td>Gr&egrave;ce</td>
                    <td>105</td>
                    <td>112</td>
                  </tr>
                  <tr>
                    <th>
                      <div>22</div>
                    </th>
                    <td>France</td>
                    <td>99</td>
                    <td>106</td>
                  </tr>
                  <tr>
                    <th>
                      <div>23</div>
                    </th>
                    <td>Autriche</td>
                    <td>101</td>
                    <td>104</td>
                  </tr>
                  <tr>
                    <th>
                      <div>24</div>
                    </th>
                    <td>Belgique</td>
                    <td>93</td>
                    <td>101</td>
                  </tr>
                  <tr>
                    <th>
                      <div>25</div>
                    </th>
                    <td>Irlande du Nord(UK)</td>
                    <td>84</td>
                    <td>91</td>
                  </tr>
                  <tr>
                    <th>
                      <div>26</div>
                    </th>
                    <td>Pays&shy;Bas</td>
                    <td>90</td>
                    <td>84</td>
                  </tr>
                  <tr>
                    <th>
                      <div>27</div>
                    </th>
                    <td>Allemagne</td>
                    <td>89</td>
                    <td>84</td>
                  </tr>
                  <tr>
                    <th>
                      <div>28</div>
                    </th>
                    <td>Irlande</td>
                    <td>76</td>
                    <td>80</td>
                  </tr>
                  <tr>
                    <th>
                      <div>29</div>
                    </th>
                    <td>Chypre</td>
                    <td>84</td>
                    <td>78</td>
                  </tr>
                  <tr>
                    <th>
                      <div>30</div>
                    </th>
                    <td>Danemark</td>
                    <td>66</td>
                    <td>72</td>
                  </tr>
                  <tr>
                    <th>
                      <div>31</div>
                    </th>
                    <td>Su&egrave;de</td>
                    <td>74</td>
                    <td>71</td>
                  </tr>
                  <tr>
                    <th>
                      <div>32</div>
                    </th>
                    <td>Slov&eacute;nie</td>
                    <td>66</td>
                    <td>65</td>
                  </tr>
                  <tr>
                    <th>
                      <div>33</div>
                    </th>
                    <td>Finlande</td>
                    <td>63</td>
                    <td>60</td>
                  </tr>
                </tbody>
              </table>	

<script type="text/javascript">
let dataPoints3=[];
let dataTable2=[];
let table2 = document.getElementById("table2");
let tdTable2 = table2.querySelectorAll("td");
for (let i=0; i<tdTable2.length;i++){
    dataTable2.push(tdTable2[i].innerHTML);
}
for (let i=0; i<dataTable2.length;i+=3){
    dataPoints3.push({"Pays":dataTable2[i], "Population carcérale":dataTable2[i+1], "Population carcérale2":dataTable2[i+2]});
}
let svg = dimple.newSvg("div#bar-chart", 861, 700);
let chart = new dimple.chart(svg, dataPoints3);
chart.setBounds(60, 25, 800, 500);
let x = chart.addCategoryAxis("x", "Pays");
x.addOrderRule("Pays");
let y1 = chart.addMeasureAxis("y", "Population carcérale");
let y2 = chart.addMeasureAxis("y", "Population carcérale2");
let s2 = chart.addSeries("2010-2012", dimple.plot.line, [x, y2]);
let s1 = chart.addSeries("2007-2009", dimple.plot.line, [x, y1]);
chart.addLegend(60, 10, 800, 20, "right");
chart.draw();
</script>
</body>
</html>
